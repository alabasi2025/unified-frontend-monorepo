<div class="search-container">
  <!-- Header -->
  <div class="search-header">
    <button class="back-btn" (click)="goBack()">
      <span>โ</span>
      <span>ุงูุนูุฏุฉ</span>
    </button>
    <h2>๐ ุงูุจุญุซ ุงููุชูุฏู</h2>
  </div>

  <!-- Search Box -->
  <div class="search-box">
    <div class="search-input-wrapper">
      <span class="search-icon">๐</span>
      <input 
        type="text" 
        [(ngModel)]="searchQuery" 
        (keyup.enter)="performSearch()"
        placeholder="ุงุจุญุซ ูู ุงูุตูุญุงุชุ ุงูุฃููุงุฑุ ุงูููุงู..."
        class="search-input"
        autofocus
      />
      <button 
        class="search-btn" 
        (click)="performSearch()"
        [disabled]="!searchQuery.trim() || isSearching"
      >
        <span *ngIf="!isSearching">ุจุญุซ</span>
        <span *ngIf="isSearching">ุฌุงุฑู ุงูุจุญุซ...</span>
      </button>
    </div>
    
    <div class="search-filters">
      <button 
        *ngFor="let type of ['all', 'page', 'section', 'idea', 'task', 'note']"
        class="filter-btn"
        [class.active]="filterType === type"
        (click)="filterType = type; applyFilter()"
      >
        {{type === 'all' ? 'ุงููู' : getTypeLabel(type)}}
      </button>
    </div>
  </div>

  <!-- Results Stats -->
  <div *ngIf="results.length > 0" class="results-stats">
    <div class="stat-card">
      <span class="stat-icon">๐</span>
      <span class="stat-text">
        ุชู ุงูุนุซูุฑ ุนูู <strong>{{filteredResults.length}}</strong> ูุชูุฌุฉ
        <span *ngIf="filterType !== 'all'"> ูู {{getTypeLabel(filterType)}}</span>
      </span>
    </div>
  </div>

  <!-- Results List -->
  <div class="results-list">
    <div 
      *ngFor="let result of filteredResults" 
      class="result-item"
      (click)="openResult(result)"
    >
      <div class="result-icon" [style.background]="getTypeColor(result.type)">
        {{result.icon}}
      </div>
      
      <div class="result-content">
        <div class="result-header">
          <h3 class="result-title" [innerHTML]="highlightMatch(result.title)"></h3>
          <div class="result-type" [style.background]="getTypeColor(result.type)">
            {{getTypeLabel(result.type)}}
          </div>
        </div>
        
        <p class="result-description" [innerHTML]="highlightMatch(result.description)"></p>
        <p class="result-match" [innerHTML]="highlightMatch(result.matchedText)"></p>
      </div>
      
      <div class="result-arrow">โ</div>
    </div>
  </div>

  <!-- Empty State -->
  <div *ngIf="!isSearching && searchQuery && filteredResults.length === 0" class="empty-state">
    <div class="empty-icon">๐</div>
    <h3>ูู ูุชู ุงูุนุซูุฑ ุนูู ูุชุงุฆุฌ</h3>
    <p>ุฌุฑุจ ูููุงุช ุจุญุซ ูุฎุชููุฉ ุฃู ูู ุจุชุบููุฑ ุงูููุชุฑ</p>
  </div>

  <!-- Initial State -->
  <div *ngIf="!searchQuery && results.length === 0" class="initial-state">
    <div class="initial-icon">๐</div>
    <h3>ุงุจุฏุฃ ุงูุจุญุซ</h3>
    <p>ุงูุชุจ ูููุฉ ุฃู ุนุจุงุฑุฉ ููุจุญุซ ูู ุฌููุน ูุญุชููุงุช ุงูุฏูุชุฑ</p>
    <div class="search-tips">
      <h4>ูุตุงุฆุญ ุงูุจุญุซ:</h4>
      <ul>
        <li>ุงุณุชุฎุฏู ูููุงุช ููุชุงุญูุฉ ูุงุถุญุฉ</li>
        <li>ุฌุฑุจ ุงูุจุญุซ ุจูููุงุช ูุฎุชููุฉ</li>
        <li>ุงุณุชุฎุฏู ุงูููุงุชุฑ ูุชุถููู ุงููุชุงุฆุฌ</li>
      </ul>
    </div>
  </div>

  <!-- Loading State -->
  <div *ngIf="isSearching" class="loading-state">
    <div class="loading-spinner"></div>
    <p>ุฌุงุฑู ุงูุจุญุซ...</p>
  </div>
</div>
