<div class="markdown-editor">
  <div class="editor-toolbar">
    <button type="button" class="toolbar-btn" (click)="insertMarkdown('**', '**')" title="ุบุงูู">
      <strong>B</strong>
    </button>
    <button type="button" class="toolbar-btn" (click)="insertMarkdown('*', '*')" title="ูุงุฆู">
      <em>I</em>
    </button>
    <button type="button" class="toolbar-btn" (click)="insertMarkdown('# ', '')" title="ุนููุงู">
      H1
    </button>
    <button type="button" class="toolbar-btn" (click)="insertMarkdown('## ', '')" title="ุนููุงู ูุฑุนู">
      H2
    </button>
    <button type="button" class="toolbar-btn" (click)="insertMarkdown('- ', '')" title="ูุงุฆูุฉ">
      โข List
    </button>
    <button type="button" class="toolbar-btn" (click)="insertMarkdown('[', '](url)')" title="ุฑุงุจุท">
      ๐
    </button>
    <button type="button" class="toolbar-btn" (click)="insertMarkdown('![alt](', ')')" title="ุตูุฑุฉ">
      ๐ผ๏ธ
    </button>
    <button type="button" class="toolbar-btn" (click)="insertMarkdown('```&#10;', '&#10;```')" title="ููุฏ">
      &lt;/&gt;
    </button>
    <div class="toolbar-divider"></div>
    <button 
      type="button" 
      class="toolbar-btn" 
      [class.active]="viewMode === 'edit'"
      (click)="viewMode = 'edit'"
      title="ูุญุฑุฑ"
    >
      โ๏ธ ูุญุฑุฑ
    </button>
    <button 
      type="button" 
      class="toolbar-btn" 
      [class.active]="viewMode === 'split'"
      (click)="viewMode = 'split'"
      title="ููุณู"
    >
      โก ููุณู
    </button>
    <button 
      type="button" 
      class="toolbar-btn" 
      [class.active]="viewMode === 'preview'"
      (click)="viewMode = 'preview'"
      title="ูุนุงููุฉ"
    >
      ๐๏ธ ูุนุงููุฉ
    </button>
  </div>

  <div class="editor-content" [class.split]="viewMode === 'split'">
    <div class="editor-pane" *ngIf="viewMode !== 'preview'">
      <textarea
        #textarea
        [(ngModel)]="value"
        (ngModelChange)="onChange($event)"
        (blur)="onTouched()"
        [style.height.px]="height"
        class="editor-textarea"
        placeholder="ุงูุชุจ ูุญุชูู Markdown ููุง..."
      ></textarea>
    </div>

    <div class="preview-pane" *ngIf="viewMode !== 'edit'">
      <div class="markdown-preview" [style.height.px]="height">
        <markdown [data]="value || '*ูุง ููุฌุฏ ูุญุชูู ูููุนุงููุฉ*'"></markdown>
      </div>
    </div>
  </div>
</div>
